
((num = 12345)=>{
    console.log(num);
})()



const chile = [{"_id":"5e6ea2e6d5820d002fe240de","Lugar":"Uzbekistan","Contagiados":1,"Decesos":0,"Actualizado":"2020-03-15T21:49:20.297Z","__v":0},{"_id":"5e6ed87a339b880029d6ee7a","Lugar":"Uzbekistan","Contagiados":4,"Decesos":0,"Actualizado":"2020-03-16T01:37:55.958Z","__v":0},{"_id":"5e6fd3ee4a791f002f8d0681","Lugar":"Uzbekistan","Contagiados":8,"Decesos":0,"Actualizado":"2020-03-16T19:30:45.962Z","__v":0},{"_id":"5e7117177e99a40029c2435f","Lugar":"Uzbekistan","Contagiados":11,"Decesos":0,"Actualizado":"2020-03-17T18:29:32.910Z","__v":0},{"_id":"5e726c611cd67f002ee17ff7","Lugar":"Uzbekistan","Contagiados":15,"Decesos":0,"Actualizado":"2020-03-18T18:45:45.126Z","__v":0},{"_id":"5e73bdd3c71f190027dd0c68","Lugar":"Uzbekistan","Contagiados":23,"Decesos":0,"Actualizado":"2020-03-19T18:45:34.396Z","__v":0},{"_id":"5e7751fd4a007700293c5ab6","Lugar":"Uzbekistan","Contagiados":43,"Decesos":0,"Actualizado":"2020-03-22T11:54:33.226Z","__v":0},{"_id":"5e7971172cc7e9002e0b63f8","Lugar":"Uzbekistan","Contagiados":46,"Decesos":0,"Actualizado":"2020-03-24T02:31:47.704Z","__v":0},{"_id":"5e7ac663dcb2a5002e9aa1c5","Lugar":"Uzbekistan","Contagiados":50,"Decesos":0,"Actualizado":"2020-03-25T02:47:57.191Z","__v":0},{"_id":"5e7c1ebe35363e002febc598","Lugar":"Uzbekistan","Contagiados":56,"Decesos":0,"Actualizado":"2020-03-26T03:17:13.922Z","__v":0},{"_id":"5e7da92e311fc3002e2e6390","Lugar":"Uzbekistan","Contagiados":65,"Decesos":1,"Actualizado":"2020-03-27T07:20:09.580Z","__v":0},{"_id":"5e7ebd9b3461dc002e84c58a","Lugar":"Uzbekistan","Contagiados":88,"Decesos":1,"Actualizado":"2020-03-28T02:59:34.340Z","__v":0},{"_id":"5e7f4ebf2a4efa13d44427df","Lugar":"Uzbekistan","Contagiados":104,"Decesos":2,"Actualizado":"2020-03-28T13:13:35.820Z","__v":0},{"_id":"5e816a8b2a7eed002842f755","Lugar":"Uzbekistan","Contagiados":133,"Decesos":2,"Actualizado":"2020-03-30T03:41:57.475Z","__v":0},{"_id":"5e82c2d4b30bd70028f09f24","Lugar":"Uzbekistan","Contagiados":149,"Decesos":2,"Actualizado":"2020-03-31T04:10:53.300Z","__v":0},{"_id":"5e836b5cec417400292598c3","Lugar":"Uzbekistan","Contagiados":167,"Decesos":2,"Actualizado":"2020-03-31T16:09:58.133Z","__v":0},{"_id":"5e84c03dac623d00298376b1","Lugar":"Uzbekistan","Contagiados":173,"Decesos":2,"Actualizado":"2020-04-01T16:24:24.315Z","__v":0},{"_id":"5e861434d754250028fda0a3","Lugar":"Uzbekistan","Contagiados":190,"Decesos":2,"Actualizado":"2020-04-02T16:34:56.163Z","__v":0},{"_id":"5e8759e628862700297ca030","Lugar":"Uzbekistan","Contagiados":221,"Decesos":2,"Actualizado":"2020-04-03T15:44:33.895Z","__v":0},{"_id":"5e88a2b357eec60029e8ef21","Lugar":"Uzbekistan","Contagiados":263,"Decesos":2,"Actualizado":"2020-04-04T15:07:24.798Z","__v":0},{"_id":"5e89f72610c15c00276008b6","Lugar":"Uzbekistan","Contagiados":298,"Decesos":2,"Actualizado":"2020-04-05T15:20:00.103Z","__v":0},{"_id":"5e8b4b8aa8daf70029c2721b","Lugar":"Uzbekistan","Contagiados":390,"Decesos":2,"Actualizado":"2020-04-06T15:32:18.442Z","__v":0},{"_id":"5e8c929b25c30f17248ec4df","Lugar":"Uzbekistan","Contagiados":472,"Decesos":2,"Actualizado":"2020-04-07T14:40:36.070Z","__v":0},{"_id":"5e8e030e4aebd30028456e12","Lugar":"Uzbekistan","Contagiados":545,"Decesos":3,"Actualizado":"2020-04-08T16:59:52.236Z","__v":0},{"_id":"5e8f42d36171de1788b30e23","Lugar":"Uzbekistan","Contagiados":582,"Decesos":3,"Actualizado":"2020-04-09T15:36:01.468Z","__v":0},{"_id":"5e90b2b6c90752002973b79b","Lugar":"Uzbekistan","Contagiados":624,"Decesos":3,"Actualizado":"2020-04-10T17:53:54.031Z","__v":0},{"_id":"5e92543378586000175e70ab","Lugar":"Uzbekistan","Contagiados":729,"Decesos":3,"Actualizado":"2020-04-11T23:35:09.471Z","__v":0},{"_id":"5e928c7178586000175e7468","Lugar":"Uzbekistan","Contagiados":767,"Decesos":4,"Actualizado":"2020-04-12T03:35:09.279Z","__v":0},{"_id":"5e93aa479f369800172a23a0","Lugar":"Uzbekistan","Contagiados":833,"Decesos":4,"Actualizado":"2020-04-12T23:54:43.463Z","__v":0},{"_id":"5e950234d5409b0017dbd32b","Lugar":"Uzbekistan","Contagiados":934,"Decesos":4,"Actualizado":"2020-04-14T00:22:06.876Z","__v":0},{"_id":"5e9656107cb5b70017067a0c","Lugar":"Uzbekistan","Contagiados":1113,"Decesos":4,"Actualizado":"2020-04-15T00:32:11.467Z","__v":0},{"_id":"5e97abddd486520017870561","Lugar":"Uzbekistan","Contagiados":1275,"Decesos":4,"Actualizado":"2020-04-16T00:50:33.323Z","__v":0}]

const getCurvaContagiados = (casos: any[] = chile) => {
    casos = chile;
    let curvaContagiados: number[] = [];

    let sumaContagios: number[]=[];
    // let fechaAnterior: Date =  new Date(casos[0].Actualizado.toISOString().slice(0,10).replace(/[-]/g, '/'));
    for ( const [idx, caso] of casos.entries() ) {
        if (idx === 0){
            curvaContagiados.push(caso.Contagiados);
        } else if (caso.Contagiados !== 0) {
            sumaContagios.push(caso.Contagiados - casos[idx - 1].Contagiados);
            // if (fechaAnterior === new Date(caso.Actualizado.toISOString().slice(0,10).replace(/[-]/g, '/'))) {
            //     sumaContagios.push(caso.Contagiados - casos[idx - 1].Contagiados);
            // } else {
            //     curvaContagiados.push(sumaContagios.reduce((acc, val) =>  acc + val, 0));
            //     if (sumaContagios.length > 1) sumaContagios=[];
            // }
            // fechaAnterior = caso.Actualizado;
        }
    }
    return sumaContagios;
}

const curva = getCurvaContagiados();

console.log(curva);

